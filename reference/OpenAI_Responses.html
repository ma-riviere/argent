<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Client for OpenAI's Responses API — OpenAI_Responses • argent</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Client for OpenAI's Responses API — OpenAI_Responses"><meta name="description" content="R6 class for interacting with OpenAI's Responses API (v1/responses).
Inherits file management and vector store methods from OpenAI_Base."><meta property="og:description" content="R6 class for interacting with OpenAI's Responses API (v1/responses).
Inherits file management and vector store methods from OpenAI_Base."><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@mariviere1"><meta name="twitter:site" content="@mariviere1"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">argent</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/argent.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-providers" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Providers</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-providers"><li><a class="dropdown-item" href="../articles/google-gemini.html">Google Gemini</a></li>
    <li><a class="dropdown-item" href="../articles/anthropic.html">Anthropic</a></li>
    <li><a class="dropdown-item" href="../articles/openrouter.html">OpenRouter</a></li>
    <li><a class="dropdown-item" href="../articles/local-llm.html">Local LLM</a></li>
    <li><a class="dropdown-item" href="../articles/other-providers.html">Other Providers</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>OpenAI</h6></li>
    <li><a class="dropdown-item" href="../articles/openai-responses.html">Responses API</a></li>
    <li><a class="dropdown-item" href="../articles/openai-completions.html">Chat Completions API</a></li>
    <li><a class="dropdown-item" href="../articles/openai-assistants.html">Assistants API</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-advanced-use" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Advanced Use</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-advanced-use"><li><a class="dropdown-item" href="../articles/advanced-rag.html">RAG with `ragnar`</a></li>
    <li><a class="dropdown-item" href="../articles/advanced-mcp.html">Using MCP Servers</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ma-riviere/argent/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Client for OpenAI's Responses API</h1>
      <small class="dont-index">Source: <a href="https://github.com/ma-riviere/argent/blob/main/R/openai_responses.R" class="external-link"><code>R/openai_responses.R</code></a></small>
      <div class="d-none name"><code>OpenAI_Responses.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>R6 class for interacting with OpenAI's Responses API (v1/responses).
Inherits file management and vector store methods from OpenAI_Base.</p>
    </div>


    <div class="section level2">
    <h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a></h2>


<ul><li><p>Client-side conversation state management</p></li>
<li><p>Server-side conversation state management via previous_response_id &amp; response forking</p></li>
<li><p>Client-side tools</p></li>
<li><p>Server-side tools</p></li>
<li><p>Multimodal inputs (files, images, PDFs, R objects)</p></li>
<li><p>File uploads and management</p></li>
<li><p>Server-side RAG with stores &amp; <code>file_search</code> server tool</p></li>
<li><p>Reasoning</p></li>
<li><p>Structured outputs</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="useful-links">Useful links<a class="anchor" aria-label="anchor" href="#useful-links"></a></h2>


<ul><li><p>API reference: https://platform.openai.com/docs/api-reference/responses/create</p></li>
<li><p>API docs: https://platform.openai.com/docs/quickstart</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="main-entrypoints">Main entrypoints<a class="anchor" aria-label="anchor" href="#main-entrypoints"></a></h2>


<ul><li><p><code>chat()</code>: Multi-turn multimodal conversations with tool use and structured outputs.</p></li>
<li><p><code>embeddings()</code>: Vector embeddings for text inputs.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="server-side-tools">Server-side tools<a class="anchor" aria-label="anchor" href="#server-side-tools"></a></h2>


<ul><li><p>"web_search" for web search grounding via OpenAI's web plugin</p></li>
<li><p>"file_search" for file search with vector stores</p></li>
<li><p>"code_interpreter" for Python code execution in sandboxed containers</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="structured-outputs">Structured outputs<a class="anchor" aria-label="anchor" href="#structured-outputs"></a></h2>


<p>Fully native structured outputs via JSON schema. No additional API calls required.</p>
    </div>
    <div class="section level2">
    <h2 id="super-classes">Super classes<a class="anchor" aria-label="anchor" href="#super-classes"></a></h2>
    <p><code><a href="Provider.html">argent::Provider</a></code> -&gt; <code><a href="OpenAI.html">argent::OpenAI</a></code> -&gt; <code>OpenAI_Responses</code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-OpenAI_Responses-new"><code>OpenAI_Responses$new()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-get_last_response_id"><code>OpenAI_Responses$get_last_response_id()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-create_container"><code>OpenAI_Responses$create_container()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-list_containers"><code>OpenAI_Responses$list_containers()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-get_container"><code>OpenAI_Responses$get_container()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-delete_container"><code>OpenAI_Responses$delete_container()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-list_container_files"><code>OpenAI_Responses$list_container_files()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-get_container_file_metadata"><code>OpenAI_Responses$get_container_file_metadata()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-get_container_file_content"><code>OpenAI_Responses$get_container_file_content()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-download_container_file"><code>OpenAI_Responses$download_container_file()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-chat"><code>OpenAI_Responses$chat()</code></a></p></li>
<li><p><a href="#method-OpenAI_Responses-clone"><code>OpenAI_Responses$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="download_generated_files"><a href="Provider.html#method-download_generated_files"><code>argent::Provider$download_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="dump_history"><a href="Provider.html#method-dump_history"><code>argent::Provider$dump_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_auto_save_history"><a href="Provider.html#method-get_auto_save_history"><code>argent::Provider$get_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_chat_history"><a href="Provider.html#method-get_chat_history"><code>argent::Provider$get_chat_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_content_text"><a href="Provider.html#method-get_content_text"><code>argent::Provider$get_content_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_code"><a href="Provider.html#method-get_generated_code"><code>argent::Provider$get_generated_code()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_files"><a href="Provider.html#method-get_generated_files"><code>argent::Provider$get_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history"><a href="Provider.html#method-get_history"><code>argent::Provider$get_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history_file_path"><a href="Provider.html#method-get_history_file_path"><code>argent::Provider$get_history_file_path()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_last_response"><a href="Provider.html#method-get_last_response"><code>argent::Provider$get_last_response()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_rate_limit"><a href="Provider.html#method-get_rate_limit"><code>argent::Provider$get_rate_limit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_reasoning_text"><a href="Provider.html#method-get_reasoning_text"><code>argent::Provider$get_reasoning_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_cumulative_token_count"><a href="Provider.html#method-get_session_cumulative_token_count"><code>argent::Provider$get_session_cumulative_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_history"><a href="Provider.html#method-get_session_history"><code>argent::Provider$get_session_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_last_token_count"><a href="Provider.html#method-get_session_last_token_count"><code>argent::Provider$get_session_last_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_supplementary"><a href="Provider.html#method-get_supplementary"><code>argent::Provider$get_supplementary()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="load_history"><a href="Provider.html#method-load_history"><code>argent::Provider$load_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="print"><a href="Provider.html#method-print"><code>argent::Provider$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="reset_history"><a href="Provider.html#method-reset_history"><code>argent::Provider$reset_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_auto_save_history"><a href="Provider.html#method-set_auto_save_history"><code>argent::Provider$set_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_history"><a href="Provider.html#method-set_history"><code>argent::Provider$set_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_rate_limit"><a href="Provider.html#method-set_rate_limit"><code>argent::Provider$set_rate_limit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="add_file_to_store"><a href="OpenAI.html#method-add_file_to_store"><code>argent::OpenAI$add_file_to_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="create_store"><a href="OpenAI.html#method-create_store"><code>argent::OpenAI$create_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_all_files"><a href="OpenAI.html#method-delete_all_files"><code>argent::OpenAI$delete_all_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_all_files_from_store"><a href="OpenAI.html#method-delete_all_files_from_store"><code>argent::OpenAI$delete_all_files_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_all_stores"><a href="OpenAI.html#method-delete_all_stores"><code>argent::OpenAI$delete_all_stores()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_file"><a href="OpenAI.html#method-delete_file"><code>argent::OpenAI$delete_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_file_from_store"><a href="OpenAI.html#method-delete_file_from_store"><code>argent::OpenAI$delete_file_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_files"><a href="OpenAI.html#method-delete_files"><code>argent::OpenAI$delete_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_files_from_store"><a href="OpenAI.html#method-delete_files_from_store"><code>argent::OpenAI$delete_files_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_store"><a href="OpenAI.html#method-delete_store"><code>argent::OpenAI$delete_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_store_and_files"><a href="OpenAI.html#method-delete_store_and_files"><code>argent::OpenAI$delete_store_and_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_stores"><a href="OpenAI.html#method-delete_stores"><code>argent::OpenAI$delete_stores()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="download_file"><a href="OpenAI.html#method-download_file"><code>argent::OpenAI$download_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="embeddings"><a href="OpenAI.html#method-embeddings"><code>argent::OpenAI$embeddings()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_assistants"><a href="OpenAI.html#method-find_assistants"><code>argent::OpenAI$find_assistants()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_file"><a href="OpenAI.html#method-find_file"><code>argent::OpenAI$find_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_file_in_store"><a href="OpenAI.html#method-find_file_in_store"><code>argent::OpenAI$find_file_in_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_models"><a href="OpenAI.html#method-find_models"><code>argent::OpenAI$find_models()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_store"><a href="OpenAI.html#method-find_store"><code>argent::OpenAI$find_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="get_file"><a href="OpenAI.html#method-get_file"><code>argent::OpenAI$get_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="get_file_content"><a href="OpenAI.html#method-get_file_content"><code>argent::OpenAI$get_file_content()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="get_model_info"><a href="OpenAI.html#method-get_model_info"><code>argent::OpenAI$get_model_info()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_assistants"><a href="OpenAI.html#method-list_assistants"><code>argent::OpenAI$list_assistants()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_files"><a href="OpenAI.html#method-list_files"><code>argent::OpenAI$list_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_files_in_store"><a href="OpenAI.html#method-list_files_in_store"><code>argent::OpenAI$list_files_in_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_models"><a href="OpenAI.html#method-list_models"><code>argent::OpenAI$list_models()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_stores"><a href="OpenAI.html#method-list_stores"><code>argent::OpenAI$list_stores()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="read_file_from_store"><a href="OpenAI.html#method-read_file_from_store"><code>argent::OpenAI$read_file_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="read_store"><a href="OpenAI.html#method-read_store"><code>argent::OpenAI$read_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="update_store"><a href="OpenAI.html#method-update_store"><code>argent::OpenAI$update_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="upload_file"><a href="OpenAI.html#method-upload_file"><code>argent::OpenAI$upload_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="upload_file_from_df"><a href="OpenAI.html#method-upload_file_from_df"><code>argent::OpenAI$upload_file_from_df()</code></a></span></li>
</ul></details></p><hr><a id="method-OpenAI_Responses-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialize a new OpenAI Responses client</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/OpenAI_Responses.html">OpenAI_Responses</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  base_url <span class="op">=</span> <span class="st">"https://api.openai.com"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span>,</span>
<span>  provider_name <span class="op">=</span> <span class="st">"OpenAI Responses"</span>,</span>
<span>  rate_limit <span class="op">=</span> <span class="fl">60</span><span class="op">/</span><span class="fl">60</span>,</span>
<span>  server_tools <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"web_search"</span>, <span class="st">"file_search"</span>, <span class="st">"code_interpreter"</span><span class="op">)</span>,</span>
<span>  default_model <span class="op">=</span> <span class="st">"gpt-5-mini"</span>,</span>
<span>  org <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_ORG"</span><span class="op">)</span>,</span>
<span>  auto_save_history <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>base_url</code></dt>
<dd><p>Character. Base URL for API (default: "https://api.openai.com")</p></dd>


<dt><code>api_key</code></dt>
<dd><p>Character. API key (default: from OPENAI_API_KEY env var)</p></dd>


<dt><code>provider_name</code></dt>
<dd><p>Character. Provider name (default: "OpenAI Responses")</p></dd>


<dt><code>rate_limit</code></dt>
<dd><p>Numeric. Rate limit in requests per second (default: 60/60)</p></dd>


<dt><code>server_tools</code></dt>
<dd><p>Character vector. Server-side tools available (default: c("web_search",
"file_search", "code_interpreter"))</p></dd>


<dt><code>default_model</code></dt>
<dd><p>Character. Default model to use for chat requests (default: "gpt-5-mini")</p></dd>


<dt><code>org</code></dt>
<dd><p>Character. Organization ID (default: from OPENAI_ORG env var)</p></dd>


<dt><code>auto_save_history</code></dt>
<dd><p>Logical. Enable/disable automatic history sync (default: TRUE)</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-OpenAI_Responses-get_last_response_id"></a><div class="section">
<h3 id="method-get-last-response-id-">Method <code>get_last_response_id()</code><a class="anchor" aria-label="anchor" href="#method-get-last-response-id-"></a></h3>
<p>Get the ID from the last response for conversation chaining</p>
<p>This is a convenience wrapper around get_last_response()$id,
useful for chaining responses via the previous_response_id parameter.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">get_last_response_id</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Character. The ID of the last response, or NULL if no previous response exists</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
res1 &lt;- responses$chat(prompt = "Tell me a joke", model = "gpt-5-mini")
id &lt;- responses$get_last_response_id()
res2 &lt;- responses$chat(
  prompt = "Explain why it's funny",
  previous_response_id = id
)
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-create_container"></a><div class="section">
<h3 id="method-create-container-">Method <code>create_container()</code><a class="anchor" aria-label="anchor" href="#method-create-container-"></a></h3>
<p>Create a new container for code execution</p>
<p>Containers are sandboxed virtual machines where code_interpreter can execute Python code.
Each container costs $0.03 and is active for 1 hour with 20 minute idle timeout.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">create_container</span><span class="op">(</span>file_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>file_ids</code></dt>
<dd><p>Character vector. Optional file IDs to initialize container with.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>List. Container object with id, created_at, status</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
container &lt;- responses$create_container()
container &lt;- responses$create_container(file_ids = c("file-123", "file-456"))
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-list_containers"></a><div class="section">
<h3 id="method-list-containers-">Method <code>list_containers()</code><a class="anchor" aria-label="anchor" href="#method-list-containers-"></a></h3>
<p>List all containers</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">list_containers</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>Data frame. Available containers with id, created_at, status</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
containers &lt;- responses$list_containers()
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-get_container"></a><div class="section">
<h3 id="method-get-container-">Method <code>get_container()</code><a class="anchor" aria-label="anchor" href="#method-get-container-"></a></h3>
<p>Get information about a specific container</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">get_container</span><span class="op">(</span><span class="va">container_id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>container_id</code></dt>
<dd><p>Character. Container ID to retrieve.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>List. Container metadata</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
container &lt;- responses$get_container("container-123")
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-delete_container"></a><div class="section">
<h3 id="method-delete-container-">Method <code>delete_container()</code><a class="anchor" aria-label="anchor" href="#method-delete-container-"></a></h3>
<p>Delete a container</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">delete_container</span><span class="op">(</span><span class="va">container_id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>container_id</code></dt>
<dd><p>Character. Container ID to delete.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>List. Deletion confirmation</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
responses$delete_container("container-123")
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-list_container_files"></a><div class="section">
<h3 id="method-list-container-files-">Method <code>list_container_files()</code><a class="anchor" aria-label="anchor" href="#method-list-container-files-"></a></h3>
<p>List files in a container</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">list_container_files</span><span class="op">(</span><span class="va">container_id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>container_id</code></dt>
<dd><p>Character. Container ID to list files from.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>Data frame. Files in container with paths</p>
</div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
files &lt;- responses$list_container_files("container-123")
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-get_container_file_metadata"></a><div class="section">
<h3 id="method-get-container-file-metadata-">Method <code>get_container_file_metadata()</code><a class="anchor" aria-label="anchor" href="#method-get-container-file-metadata-"></a></h3>
<p>Get metadata for a specific file in a container</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">get_container_file_metadata</span><span class="op">(</span><span class="va">container_id</span>, <span class="va">file_id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>container_id</code></dt>
<dd><p>Character. Container ID.</p></dd>


<dt><code>file_id</code></dt>
<dd><p>Character. Container file ID (e.g., "cfile_abc123xyz").</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>List. File metadata.</p>
</div>

</div><p></p><hr><a id="method-OpenAI_Responses-get_container_file_content"></a><div class="section">
<h3 id="method-get-container-file-content-">Method <code>get_container_file_content()</code><a class="anchor" aria-label="anchor" href="#method-get-container-file-content-"></a></h3>
<p>Get file content from container</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">get_container_file_content</span><span class="op">(</span><span class="va">container_id</span>, <span class="va">file_id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>container_id</code></dt>
<dd><p>Character. Container ID.</p></dd>


<dt><code>file_id</code></dt>
<dd><p>Character. Container file ID (e.g., "cfile_abc123xyz").</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>Raw. File content as raw bytes</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
annotations &lt;- responses$get_last_annotations()
file_id &lt;- annotations[[1]]$file_id
content &lt;- responses$get_container_file_content("container-123", file_id)
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-download_container_file"></a><div class="section">
<h3 id="method-download-container-file-">Method <code>download_container_file()</code><a class="anchor" aria-label="anchor" href="#method-download-container-file-"></a></h3>
<p>Download file from container to local filesystem</p>
<p>Downloads the file content and saves it to the specified path. If dest_path is a directory,
the file is saved with its original filename. If dest_path is a file path, it is used as
the complete destination path.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">download_container_file</span><span class="op">(</span></span>
<span>  <span class="va">container_id</span>,</span>
<span>  <span class="va">file_id</span>,</span>
<span>  dest_path <span class="op">=</span> <span class="st">"data"</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>container_id</code></dt>
<dd><p>Character. Container ID.</p></dd>


<dt><code>file_id</code></dt>
<dd><p>Character. Container file ID (e.g., "cfile_abc123xyz").</p></dd>


<dt><code>dest_path</code></dt>
<dd><p>Character. Destination path (default: "data"). Can be either a directory
path or a complete file path. Created if it doesn't exist.</p></dd>


<dt><code>overwrite</code></dt>
<dd><p>Logical. Whether to overwrite existing files (default: TRUE).</p></dd>


<dt><code>filename</code></dt>
<dd><p>Character. Optional filename to use when dest_path is a directory. If NULL,
fetches filename from container file list.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>Character. Path to downloaded file (invisibly)</p>
</div>
<div class="section">
<h4 id="examples-7">Examples<a class="anchor" aria-label="anchor" href="#examples-7"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
responses &lt;- OpenAI_Responses$new()
annotations &lt;- responses$get_last_annotations()
file_id &lt;- annotations[[1]]$file_id

# Download to a directory
path &lt;- responses$download_container_file("container-123", file_id, "downloads")

# Download with specific filename
path &lt;- responses$download_container_file("container-123", file_id, "downloads/output.png")

# Pass filename explicitly (from annotations)
path &lt;- responses$download_container_file(
  "container-123",
  file_id,
  "downloads",
  filename = annotations[[1]]$filename
)
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-OpenAI_Responses-chat"></a><div class="section">
<h3 id="method-chat-">Method <code>chat()</code><a class="anchor" aria-label="anchor" href="#method-chat-"></a></h3>
<p>Create a response from the Responses API</p>
<p>See: <a href="https://platform.openai.com/docs/api-reference/responses/create" class="external-link">https://platform.openai.com/docs/api-reference/responses/create</a></p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  model <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">default_model</span>,</span>
<span>  system <span class="op">=</span> <span class="va">.default_system_prompt</span>,</span>
<span>  temperature <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  max_tokens <span class="op">=</span> <span class="fl">4096</span>,</span>
<span>  top_p <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  top_logprobs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  input_truncation <span class="op">=</span> <span class="st">"disabled"</span>,</span>
<span>  previous_response_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  store <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tools <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tool_choice <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  max_tool_calls <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel_tool_calls <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  output_schema <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_verbosity <span class="op">=</span> <span class="st">"medium"</span>,</span>
<span>  reasoning_effort <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reasoning_summary <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_full_response <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>One or more inputs for the prompt. Can be text strings, file paths, URLs, R objects,
or content wrapped with <code>as_*_content()</code> functions. R objects (but not plain strings) will
include their names and structure in the context sent to the model.</p></dd>


<dt><code>model</code></dt>
<dd><p>Character. Model to use (default: "gpt-5-mini")</p></dd>


<dt><code>system</code></dt>
<dd><p>Character. System prompt/instructions (default: .default_system_prompt)</p></dd>


<dt><code>temperature</code></dt>
<dd><p>Numeric. Sampling temperature 0-2 (default: 1)</p></dd>


<dt><code>max_tokens</code></dt>
<dd><p>Integer. Maximum output tokens to generate (default: 4096)</p></dd>


<dt><code>top_p</code></dt>
<dd><p>Numeric. Nucleus sampling parameter 0-1 (default: 1). Alternative to temperature.
We recommend altering this or temperature but not both.</p></dd>


<dt><code>top_logprobs</code></dt>
<dd><p>Integer. Number of most likely tokens (0-20) to return at each position with
associated log probabilities (default: NULL)</p></dd>


<dt><code>input_truncation</code></dt>
<dd><p>Character. Truncation strategy: "auto" or "disabled" (default: "disabled")</p></dd>


<dt><code>previous_response_id</code></dt>
<dd><p>Character. ID of previous response to chain from for server-side state
management. When provided, only the new prompt is sent (not full chat history). Cannot be used
with conversation parameter. (default: NULL)</p></dd>


<dt><code>store</code></dt>
<dd><p>Logical. Whether to store response server-side for later retrieval (default: TRUE)</p></dd>


<dt><code>include</code></dt>
<dd><p>Character vector. Additional output data to include in the model response. Supported values:</p><ul><li><p>"web_search_call.action.sources" - Include sources of web search tool calls</p></li>
<li><p>"code_interpreter_call.outputs" - Include Python code execution outputs</p></li>
<li><p>"computer_call_output.output.image_url" - Include image URLs from computer call output</p></li>
<li><p>"file_search_call.results" - Include file search tool call results</p></li>
<li><p>"message.input_image.image_url" - Include input message image URLs</p></li>
<li><p>"message.output_text.logprobs" - Include logprobs with assistant messages</p></li>
<li><p>"reasoning.encrypted_content" - Include encrypted reasoning tokens for multi-turn conversations</p></li>
</ul></dd>


<dt><code>tools</code></dt>
<dd><p>List. Tool definitions (server-side or client-side functions). Server-side tools:</p><ul><li><p>list(type = "web_search") for web search</p></li>
<li><p>list(type = "file_search", store_ids = list("vs_123")) for file search with vector stores
Client-side functions: use created with the <code>as_tool(fn)</code> or <code><a href="tool_definitions.html">tool()</a></code> helpers.</p></li>
</ul></dd>


<dt><code>tool_choice</code></dt>
<dd><p>Character or List. Tool choice mode (default: "auto")</p></dd>


<dt><code>max_tool_calls</code></dt>
<dd><p>Integer. Maximum number of tool calls (default: NULL)</p></dd>


<dt><code>parallel_tool_calls</code></dt>
<dd><p>Logical. Allow parallel tool calls (default: TRUE)</p></dd>


<dt><code>output_schema</code></dt>
<dd><p>List. JSON schema for structured output via build_output_schema_openai() (optional)</p></dd>


<dt><code>output_verbosity</code></dt>
<dd><p>Character. Output verbosity: "low", "medium", or "high" (default: "medium")</p></dd>


<dt><code>reasoning_effort</code></dt>
<dd><p>Character. Reasoning effort for reasoning models: "minimal", "low", "medium",
or "high" (optional, only for o1/o3/gpt-5 models)</p></dd>


<dt><code>reasoning_summary</code></dt>
<dd><p>Character. Reasoning summary mode: "auto", "concise", or "detailed"
(optional, requires reasoning_effort to be set)</p></dd>


<dt><code>return_full_response</code></dt>
<dd><p>Logical. Return full API response (default: FALSE)</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>Character (or List if return_full_response = TRUE). OpenAI Responses API's response object.</p>
</div>

</div><p></p><hr><a id="method-OpenAI_Responses-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Initialize</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple response</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="st">"What is R programming?"</span>,</span></span>
<span class="r-in"><span>  model <span class="op">=</span> <span class="st">"gpt-5-mini"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Continue conversation</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="st">"Tell me more"</span>,</span></span>
<span class="r-in"><span>  previous_response_id <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">id</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With web search</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="st">"What are the latest AI developments?"</span>,</span></span>
<span class="r-in"><span>  tools <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"web_search"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With file search and vector stores</span></span></span>
<span class="r-in"><span><span class="va">file_id</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">upload_file</span><span class="op">(</span><span class="st">"document.pdf"</span>, purpose <span class="op">=</span> <span class="st">"assistants"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">store</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">create_store</span><span class="op">(</span><span class="st">"docs"</span>, file_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">file_id</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="st">"Summarize the document"</span>,</span></span>
<span class="r-in"><span>  tools <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"file_search"</span>, store_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">store</span><span class="op">$</span><span class="va">id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$get_last_response_id`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span>prompt <span class="op">=</span> <span class="st">"Tell me a joke"</span>, model <span class="op">=</span> <span class="st">"gpt-5-mini"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">id</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">get_last_response_id</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="st">"Explain why it's funny"</span>,</span></span>
<span class="r-in"><span>  previous_response_id <span class="op">=</span> <span class="va">id</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$create_container`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">container</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">create_container</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">container</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">create_container</span><span class="op">(</span>file_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"file-123"</span>, <span class="st">"file-456"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$list_containers`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">containers</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">list_containers</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$get_container`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">container</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">get_container</span><span class="op">(</span><span class="st">"container-123"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$delete_container`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">responses</span><span class="op">$</span><span class="fu">delete_container</span><span class="op">(</span><span class="st">"container-123"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$list_container_files`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">files</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">list_container_files</span><span class="op">(</span><span class="st">"container-123"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$get_container_file_content`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">annotations</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">get_last_annotations</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">file_id</span> <span class="op">&lt;-</span> <span class="va">annotations</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">file_id</span></span></span>
<span class="r-in"><span><span class="va">content</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">get_container_file_content</span><span class="op">(</span><span class="st">"container-123"</span>, <span class="va">file_id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `OpenAI_Responses$download_container_file`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Responses</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">annotations</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">get_last_annotations</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">file_id</span> <span class="op">&lt;-</span> <span class="va">annotations</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">file_id</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download to a directory</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">download_container_file</span><span class="op">(</span><span class="st">"container-123"</span>, <span class="va">file_id</span>, <span class="st">"downloads"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download with specific filename</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">download_container_file</span><span class="op">(</span><span class="st">"container-123"</span>, <span class="va">file_id</span>, <span class="st">"downloads/output.png"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Pass filename explicitly (from annotations)</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="va">responses</span><span class="op">$</span><span class="fu">download_container_file</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"container-123"</span>,</span></span>
<span class="r-in"><span>  <span class="va">file_id</span>,</span></span>
<span class="r-in"><span>  <span class="st">"downloads"</span>,</span></span>
<span class="r-in"><span>  filename <span class="op">=</span> <span class="va">annotations</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">filename</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://ma-riviere.com" class="external-link">Marc-Aurèle Rivière</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

