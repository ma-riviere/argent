<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>OpenAI Chat Completions API Client — OpenAI_Chat • argent</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="OpenAI Chat Completions API Client — OpenAI_Chat"><meta name="description" content="R6 class for interacting with OpenAI's Chat Completions API (v1/chat/completions).
Provides methods for stateless or stateful chat interactions with conversation history,
tool calling, multimodal inputs, and structured outputs.
This class inherits file management and vector store functionality from OpenAI,
allowing files uploaded here to be used across different OpenAI APIs (Responses, Assistants)."><meta property="og:description" content="R6 class for interacting with OpenAI's Chat Completions API (v1/chat/completions).
Provides methods for stateless or stateful chat interactions with conversation history,
tool calling, multimodal inputs, and structured outputs.
This class inherits file management and vector store functionality from OpenAI,
allowing files uploaded here to be used across different OpenAI APIs (Responses, Assistants)."><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@mariviere1"><meta name="twitter:site" content="@mariviere1"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">argent</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/argent.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/google-gemini.html">Google Gemini Provider</a></li>
    <li><a class="dropdown-item" href="../articles/anthropic.html">Anthropic Claude Provider</a></li>
    <li><a class="dropdown-item" href="../articles/openrouter.html">OpenRouter Provider</a></li>
    <li><a class="dropdown-item" href="../articles/local-llm.html">Local LLM Provider</a></li>
    <li><a class="dropdown-item" href="../articles/openai-responses.html">OpenAI Responses API</a></li>
    <li><a class="dropdown-item" href="../articles/openai-completions.html">OpenAI Chat Completions API</a></li>
    <li><a class="dropdown-item" href="../articles/openai-assistants.html">OpenAI Assistants API (DEPRECATED)</a></li>
    <li><a class="dropdown-item" href="../articles/other-providers.html">Using argent with Other Compatible APIs</a></li>
    <li><a class="dropdown-item" href="../articles/usecase-rag.html">Retrieval-Augmented Generation (RAG) with `argent` and `ragnar`</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ma-riviere/argent/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>OpenAI Chat Completions API Client</h1>
      <small class="dont-index">Source: <a href="https://github.com/ma-riviere/argent/blob/main/R/openai_chat.R" class="external-link"><code>R/openai_chat.R</code></a></small>
      <div class="d-none name"><code>OpenAI_Chat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>R6 class for interacting with OpenAI's Chat Completions API (v1/chat/completions).
Provides methods for stateless or stateful chat interactions with conversation history,
tool calling, multimodal inputs, and structured outputs.</p>
<p>This class inherits file management and vector store functionality from OpenAI,
allowing files uploaded here to be used across different OpenAI APIs (Responses, Assistants).</p>
    </div>


    <div class="section level2">
    <h2 id="server-side-tools">Server-side tools<a class="anchor" aria-label="anchor" href="#server-side-tools"></a></h2>


<ul><li><p>"web_search" for web search grounding via OpenAI's web plugin</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="super-classes">Super classes<a class="anchor" aria-label="anchor" href="#super-classes"></a></h2>
    <p><code><a href="Provider.html">argent::Provider</a></code> -&gt; <code><a href="OpenAI.html">argent::OpenAI</a></code> -&gt; <code>OpenAI_Chat</code></p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>provider_name</code></dt>
<dd><p>Character. Provider name (OpenAI Chat)</p></dd>


<dt><code>server_tools</code></dt>
<dd><p>Character vector. Server-side tools to use for API requests</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-OpenAI_Chat-new"><code>OpenAI_Chat$new()</code></a></p></li>
<li><p><a href="#method-OpenAI_Chat-chat"><code>OpenAI_Chat$chat()</code></a></p></li>
<li><p><a href="#method-OpenAI_Chat-clone"><code>OpenAI_Chat$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="download_generated_files"><a href="Provider.html#method-download_generated_files"><code>argent::Provider$download_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="dump_history"><a href="Provider.html#method-dump_history"><code>argent::Provider$dump_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_auto_save_history"><a href="Provider.html#method-get_auto_save_history"><code>argent::Provider$get_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_chat_history"><a href="Provider.html#method-get_chat_history"><code>argent::Provider$get_chat_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_content_text"><a href="Provider.html#method-get_content_text"><code>argent::Provider$get_content_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_code"><a href="Provider.html#method-get_generated_code"><code>argent::Provider$get_generated_code()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_files"><a href="Provider.html#method-get_generated_files"><code>argent::Provider$get_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history"><a href="Provider.html#method-get_history"><code>argent::Provider$get_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history_file_path"><a href="Provider.html#method-get_history_file_path"><code>argent::Provider$get_history_file_path()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_last_response"><a href="Provider.html#method-get_last_response"><code>argent::Provider$get_last_response()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_rate_limit"><a href="Provider.html#method-get_rate_limit"><code>argent::Provider$get_rate_limit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_reasoning_text"><a href="Provider.html#method-get_reasoning_text"><code>argent::Provider$get_reasoning_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_cumulative_token_count"><a href="Provider.html#method-get_session_cumulative_token_count"><code>argent::Provider$get_session_cumulative_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_history"><a href="Provider.html#method-get_session_history"><code>argent::Provider$get_session_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_last_token_count"><a href="Provider.html#method-get_session_last_token_count"><code>argent::Provider$get_session_last_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_supplementary"><a href="Provider.html#method-get_supplementary"><code>argent::Provider$get_supplementary()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="load_history"><a href="Provider.html#method-load_history"><code>argent::Provider$load_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="print"><a href="Provider.html#method-print"><code>argent::Provider$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="reset_history"><a href="Provider.html#method-reset_history"><code>argent::Provider$reset_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_auto_save_history"><a href="Provider.html#method-set_auto_save_history"><code>argent::Provider$set_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_history"><a href="Provider.html#method-set_history"><code>argent::Provider$set_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_rate_limit"><a href="Provider.html#method-set_rate_limit"><code>argent::Provider$set_rate_limit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="add_file_to_store"><a href="OpenAI.html#method-add_file_to_store"><code>argent::OpenAI$add_file_to_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="create_store"><a href="OpenAI.html#method-create_store"><code>argent::OpenAI$create_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_all_files"><a href="OpenAI.html#method-delete_all_files"><code>argent::OpenAI$delete_all_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_all_files_from_store"><a href="OpenAI.html#method-delete_all_files_from_store"><code>argent::OpenAI$delete_all_files_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_all_stores"><a href="OpenAI.html#method-delete_all_stores"><code>argent::OpenAI$delete_all_stores()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_file"><a href="OpenAI.html#method-delete_file"><code>argent::OpenAI$delete_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_file_from_store"><a href="OpenAI.html#method-delete_file_from_store"><code>argent::OpenAI$delete_file_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_files"><a href="OpenAI.html#method-delete_files"><code>argent::OpenAI$delete_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_files_from_store"><a href="OpenAI.html#method-delete_files_from_store"><code>argent::OpenAI$delete_files_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_store"><a href="OpenAI.html#method-delete_store"><code>argent::OpenAI$delete_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_store_and_files"><a href="OpenAI.html#method-delete_store_and_files"><code>argent::OpenAI$delete_store_and_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="delete_stores"><a href="OpenAI.html#method-delete_stores"><code>argent::OpenAI$delete_stores()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="download_file"><a href="OpenAI.html#method-download_file"><code>argent::OpenAI$download_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_assistants"><a href="OpenAI.html#method-find_assistants"><code>argent::OpenAI$find_assistants()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_file"><a href="OpenAI.html#method-find_file"><code>argent::OpenAI$find_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_file_in_store"><a href="OpenAI.html#method-find_file_in_store"><code>argent::OpenAI$find_file_in_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_models"><a href="OpenAI.html#method-find_models"><code>argent::OpenAI$find_models()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="find_store"><a href="OpenAI.html#method-find_store"><code>argent::OpenAI$find_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="get_file"><a href="OpenAI.html#method-get_file"><code>argent::OpenAI$get_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="get_file_content"><a href="OpenAI.html#method-get_file_content"><code>argent::OpenAI$get_file_content()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="get_model_info"><a href="OpenAI.html#method-get_model_info"><code>argent::OpenAI$get_model_info()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_assistants"><a href="OpenAI.html#method-list_assistants"><code>argent::OpenAI$list_assistants()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_files"><a href="OpenAI.html#method-list_files"><code>argent::OpenAI$list_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_files_in_store"><a href="OpenAI.html#method-list_files_in_store"><code>argent::OpenAI$list_files_in_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_models"><a href="OpenAI.html#method-list_models"><code>argent::OpenAI$list_models()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="list_stores"><a href="OpenAI.html#method-list_stores"><code>argent::OpenAI$list_stores()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="read_file_from_store"><a href="OpenAI.html#method-read_file_from_store"><code>argent::OpenAI$read_file_from_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="read_store"><a href="OpenAI.html#method-read_store"><code>argent::OpenAI$read_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="update_store"><a href="OpenAI.html#method-update_store"><code>argent::OpenAI$update_store()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="upload_file"><a href="OpenAI.html#method-upload_file"><code>argent::OpenAI$upload_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="OpenAI" data-id="upload_file_from_df"><a href="OpenAI.html#method-upload_file_from_df"><code>argent::OpenAI$upload_file_from_df()</code></a></span></li>
</ul></details></p><hr><a id="method-OpenAI_Chat-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialize a new OpenAI Chat client</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/OpenAI_Chat.html">OpenAI_Chat</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span>,</span>
<span>  org <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_ORG"</span><span class="op">)</span>,</span>
<span>  base_url <span class="op">=</span> <span class="st">"https://api.openai.com"</span>,</span>
<span>  rate_limit <span class="op">=</span> <span class="fl">60</span><span class="op">/</span><span class="fl">60</span>,</span>
<span>  auto_save_history <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>api_key</code></dt>
<dd><p>Character. API key (default: from OPENAI_API_KEY env var)</p></dd>


<dt><code>org</code></dt>
<dd><p>Character. Organization ID (default: from OPENAI_ORG env var)</p></dd>


<dt><code>base_url</code></dt>
<dd><p>Character. Base URL for API (default: "https://api.openai.com")</p></dd>


<dt><code>rate_limit</code></dt>
<dd><p>Numeric. Rate limit in requests per second (default: 60/60)</p></dd>


<dt><code>auto_save_history</code></dt>
<dd><p>Logical. Enable/disable automatic history sync (default: TRUE)</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-OpenAI_Chat-chat"></a><div class="section">
<h3 id="method-chat-">Method <code>chat()</code><a class="anchor" aria-label="anchor" href="#method-chat-"></a></h3>
<p>Send a chat completion request to OpenAI</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Chat</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  system <span class="op">=</span> <span class="va">.default_system_prompt</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"gpt-5-mini"</span>,</span>
<span>  temperature <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  max_completion_tokens <span class="op">=</span> <span class="fl">4096</span>,</span>
<span>  top_p <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  frequency_penalty <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  presence_penalty <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  logprobs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  top_logprobs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  logit_bias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tools <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tool_choice <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  output_schema <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reasoning_effort <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbosity <span class="op">=</span> <span class="st">"medium"</span>,</span>
<span>  store <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  return_full_response <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>One or more inputs for the prompt. Can be text strings, file paths, URLs, R objects,
or content wrapped with <code>as_*_content()</code> functions. R objects (but not plain strings) will
include their names and structure in the context sent to the model.</p></dd>


<dt><code>system</code></dt>
<dd><p>Character. System instructions (optional)</p></dd>


<dt><code>model</code></dt>
<dd><p>Character. Model to use (default: "gpt-5-mini")</p></dd>


<dt><code>temperature</code></dt>
<dd><p>Numeric. Sampling temperature (default: 1)</p></dd>


<dt><code>max_completion_tokens</code></dt>
<dd><p>Integer. Maximum tokens to generate (default: 4096)</p></dd>


<dt><code>top_p</code></dt>
<dd><p>Numeric. Nucleus sampling parameter 0-1 (default: 1). Alternative to temperature.
We recommend altering this or temperature but not both.</p></dd>


<dt><code>frequency_penalty</code></dt>
<dd><p>Numeric. Penalty for token frequency -2.0 to 2.0 (default: 0).
Positive values decrease likelihood of repeating the same line verbatim.</p></dd>


<dt><code>presence_penalty</code></dt>
<dd><p>Numeric. Penalty for token presence -2.0 to 2.0 (default: 0).
Positive values increase likelihood of talking about new topics.</p></dd>


<dt><code>logprobs</code></dt>
<dd><p>Logical. Whether to return log probabilities (default: FALSE)</p></dd>


<dt><code>top_logprobs</code></dt>
<dd><p>Integer. Number of most likely tokens (0-20) to return at each position (default: NULL).
Requires logprobs = TRUE.</p></dd>


<dt><code>n</code></dt>
<dd><p>Integer. Number of chat completion choices to generate (default: 1)</p></dd>


<dt><code>logit_bias</code></dt>
<dd><p>Named list. Modify likelihood of specified tokens by token ID (default: NULL).
Values from -100 to 100.</p></dd>


<dt><code>tools</code></dt>
<dd><p>List. Client-side function definitions for tool calling (optional). For web search with
search-enabled models (gpt-4o-mini-search-preview, gpt-4o-search-preview, gpt-5-search-api),
pass as: <code>list("web_search")</code> or with options:
<code>list(list(type = "web_search", user_location = list(...), search_context_size = "medium"))</code>.
Supported web_search options:</p><ul><li><p><code>user_location</code>: list with <code>type = "approximate"</code> and <code>approximate</code> containing <code>country</code> (ISO 3166-1),
<code>city</code>, <code>region</code>, and/or <code>timezone</code> (IANA)</p></li>
<li><p><code>search_context_size</code>: "low", "medium" (default), or "high"</p></li>
</ul><p><strong>Note</strong>: Search models do not support standard sampling parameters (temperature, top_p,
frequency_penalty, presence_penalty, n). These are automatically omitted when using search models.</p></dd>


<dt><code>tool_choice</code></dt>
<dd><p>Character or List. Tool choice mode (default: "auto")</p></dd>


<dt><code>output_schema</code></dt>
<dd><p>List. JSON schema for structured output (optional)</p></dd>


<dt><code>reasoning_effort</code></dt>
<dd><p>Character. Reasoning effort level for reasoning models: "low", "medium", or "high"
(optional). Only applicable to reasoning models (o1, o3, o4, gpt-5). Default: NULL (uses model default)</p></dd>


<dt><code>verbosity</code></dt>
<dd><p>Character. Verbosity level for output: "low", "medium", or "high" (default: "medium")</p></dd>


<dt><code>store</code></dt>
<dd><p>Logical. Whether or not to store the output of this chat completion request in OpenAI servers (default: FALSE)</p></dd>


<dt><code>return_full_response</code></dt>
<dd><p>Logical. Return full API response (default: FALSE)</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Character (or List if return_full_response = TRUE). OpenAI Chat API's response object.</p>
</div>

</div><p></p><hr><a id="method-OpenAI_Chat-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">OpenAI_Chat</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Initialize with API key from environment</span></span></span>
<span class="r-in"><span><span class="va">openai</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Chat</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or provide API key explicitly</span></span></span>
<span class="r-in"><span><span class="va">openai</span> <span class="op">&lt;-</span> <span class="va">OpenAI_Chat</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>api_key <span class="op">=</span> <span class="st">"your-api-key"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple chat completion</span></span></span>
<span class="r-in"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="va">openai</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="st">"What is R programming?"</span>,</span></span>
<span class="r-in"><span>  model <span class="op">=</span> <span class="st">"gpt-5-chat-latest"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With tools/function calling</span></span></span>
<span class="r-in"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="va">openai</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="st">"What's the weather in Paris?"</span>,</span></span>
<span class="r-in"><span>  tools <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">get_weather_tool</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Upload file and use in chat</span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="va">openai</span><span class="op">$</span><span class="fu">upload_file</span><span class="op">(</span><span class="st">"document.pdf"</span>, purpose <span class="op">=</span> <span class="st">"user_data"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="va">openai</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prompt <span class="op">=</span> <span class="va">openai</span><span class="op">$</span><span class="fu">multimodal_input</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Summarize this document:"</span>,</span></span>
<span class="r-in"><span>    <span class="fu">as_file_ref</span><span class="op">(</span><span class="va">file</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://ma-riviere.com" class="external-link">Marc-Aurèle Rivière</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

