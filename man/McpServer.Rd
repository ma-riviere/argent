% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mcp-server.R
\name{McpServer}
\alias{McpServer}
\title{MCP Server Implementation}
\description{
An R6 class to create and run Model Context Protocol (MCP) servers.
Use this to expose R functions as tools to LLMs via the MCP protocol.
}
\keyword{internal}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{name}}{Server name}

\item{\code{version}}{Server version}

\item{\code{tools}}{List of registered tools}

\item{\code{resources}}{List of registered resources}

\item{\code{prompts}}{List of registered prompts}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-McpServer-new}{\code{McpServer$new()}}
\item \href{#method-McpServer-add_tool}{\code{McpServer$add_tool()}}
\item \href{#method-McpServer-add_resource}{\code{McpServer$add_resource()}}
\item \href{#method-McpServer-add_prompt}{\code{McpServer$add_prompt()}}
\item \href{#method-McpServer-serve_stdio}{\code{McpServer$serve_stdio()}}
\item \href{#method-McpServer-handle_request}{\code{McpServer$handle_request()}}
\item \href{#method-McpServer-clone}{\code{McpServer$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-McpServer-new"></a>}}
\if{latex}{\out{\hypertarget{method-McpServer-new}{}}}
\subsection{Method \code{new()}}{
Initialize a new MCP server
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{McpServer$new(name, version)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Character string. Server name.}

\item{\code{version}}{Character string. Server version.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-McpServer-add_tool"></a>}}
\if{latex}{\out{\hypertarget{method-McpServer-add_tool}{}}}
\subsection{Method \code{add_tool()}}{
Add a tool to the server
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{McpServer$add_tool(tool_def, handler)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{tool_def}}{List definition of the tool (name, description, args_schema)}

\item{\code{handler}}{Function to execute when the tool is called. Should have named
parameters matching the tool's arguments, with defaults for optional parameters.
Returns a result (character, list, or other).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-McpServer-add_resource"></a>}}
\if{latex}{\out{\hypertarget{method-McpServer-add_resource}{}}}
\subsection{Method \code{add_resource()}}{
Add a resource to the server
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{McpServer$add_resource(resource_def, handler)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{resource_def}}{List definition of the resource (uri, name, description, mimeType)}

\item{\code{handler}}{Function to execute when the resource is read. Should take a uri and return content (text or blob).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-McpServer-add_prompt"></a>}}
\if{latex}{\out{\hypertarget{method-McpServer-add_prompt}{}}}
\subsection{Method \code{add_prompt()}}{
Add a prompt to the server
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{McpServer$add_prompt(prompt_def, handler)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{prompt_def}}{List definition of the prompt (name, description, arguments)}

\item{\code{handler}}{Function to execute when the prompt is requested. Should have named
parameters matching the prompt's arguments, with defaults for optional parameters.
Returns a list with 'messages' field (and optional 'description' field).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-McpServer-serve_stdio"></a>}}
\if{latex}{\out{\hypertarget{method-McpServer-serve_stdio}{}}}
\subsection{Method \code{serve_stdio()}}{
Serve the MCP protocol over stdio
This method blocks and listens for JSON-RPC requests on stdin.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{McpServer$serve_stdio()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-McpServer-handle_request"></a>}}
\if{latex}{\out{\hypertarget{method-McpServer-handle_request}{}}}
\subsection{Method \code{handle_request()}}{
Handle a single JSON-RPC request line
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{McpServer$handle_request(line)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{line}}{JSON string}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-McpServer-clone"></a>}}
\if{latex}{\out{\hypertarget{method-McpServer-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{McpServer$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
