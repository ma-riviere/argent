% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/local_llm.R
\name{LocalLLM}
\alias{LocalLLM}
\title{Local LLM API Client}
\description{
R6 class for interacting with local LLM servers (e.g., llama.cpp, Ollama) that implement
OpenAI-compatible APIs. Provides methods for chat completions with tool calling support.
}
\examples{
\dontrun{
# Connect to local llama.cpp server
llm <- LocalLLM$new(base_url = "http://localhost:8080")

# With specific model
llm <- LocalLLM$new(
  base_url = "http://localhost:8080",
  model = "llama-3-8b"
)

# Simple chat completion
response <- llm$chat(
  prompt = "What is R programming?",
  temperature = 0.7
)

# With additional sampling parameters
response <- llm$chat(
  prompt = "Explain quantum computing",
  temperature = 0.8,
  top_p = 0.9,
  top_k = 40,
  min_p = 0.05,
  repeat_penalty = 1.1
)
}
}
\section{Super class}{
\code{argent::Provider} -> \code{LocalLLM}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{base_url}}{Character. Base URL of the local server}

\item{\code{default_model}}{Character. Default model name}

\item{\code{provider_name}}{Character. Provider name (LocalLLM)}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-LocalLLM-new}{\code{LocalLLM$new()}}
\item \href{#method-LocalLLM-get_default_model_id}{\code{LocalLLM$get_default_model_id()}}
\item \href{#method-LocalLLM-set_default_model_id}{\code{LocalLLM$set_default_model_id()}}
\item \href{#method-LocalLLM-get_model_name}{\code{LocalLLM$get_model_name()}}
\item \href{#method-LocalLLM-list_models}{\code{LocalLLM$list_models()}}
\item \href{#method-LocalLLM-chat}{\code{LocalLLM$chat()}}
\item \href{#method-LocalLLM-embeddings}{\code{LocalLLM$embeddings()}}
\item \href{#method-LocalLLM-clone}{\code{LocalLLM$clone()}}
}
}
\if{html}{\out{
<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="download_generated_files"><a href='../../argent/html/Provider.html#method-Provider-download_generated_files'><code>argent::Provider$download_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="dump_history"><a href='../../argent/html/Provider.html#method-Provider-dump_history'><code>argent::Provider$dump_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_auto_save_history"><a href='../../argent/html/Provider.html#method-Provider-get_auto_save_history'><code>argent::Provider$get_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_chat_history"><a href='../../argent/html/Provider.html#method-Provider-get_chat_history'><code>argent::Provider$get_chat_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_content_text"><a href='../../argent/html/Provider.html#method-Provider-get_content_text'><code>argent::Provider$get_content_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_code"><a href='../../argent/html/Provider.html#method-Provider-get_generated_code'><code>argent::Provider$get_generated_code()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_files"><a href='../../argent/html/Provider.html#method-Provider-get_generated_files'><code>argent::Provider$get_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history"><a href='../../argent/html/Provider.html#method-Provider-get_history'><code>argent::Provider$get_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history_file_path"><a href='../../argent/html/Provider.html#method-Provider-get_history_file_path'><code>argent::Provider$get_history_file_path()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_last_response"><a href='../../argent/html/Provider.html#method-Provider-get_last_response'><code>argent::Provider$get_last_response()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_rate_limit"><a href='../../argent/html/Provider.html#method-Provider-get_rate_limit'><code>argent::Provider$get_rate_limit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_reasoning_text"><a href='../../argent/html/Provider.html#method-Provider-get_reasoning_text'><code>argent::Provider$get_reasoning_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_cumulative_token_count"><a href='../../argent/html/Provider.html#method-Provider-get_session_cumulative_token_count'><code>argent::Provider$get_session_cumulative_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_history"><a href='../../argent/html/Provider.html#method-Provider-get_session_history'><code>argent::Provider$get_session_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_last_token_count"><a href='../../argent/html/Provider.html#method-Provider-get_session_last_token_count'><code>argent::Provider$get_session_last_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_supplementary"><a href='../../argent/html/Provider.html#method-Provider-get_supplementary'><code>argent::Provider$get_supplementary()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="load_history"><a href='../../argent/html/Provider.html#method-Provider-load_history'><code>argent::Provider$load_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="print"><a href='../../argent/html/Provider.html#method-Provider-print'><code>argent::Provider$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="reset_history"><a href='../../argent/html/Provider.html#method-Provider-reset_history'><code>argent::Provider$reset_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_auto_save_history"><a href='../../argent/html/Provider.html#method-Provider-set_auto_save_history'><code>argent::Provider$set_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_history"><a href='../../argent/html/Provider.html#method-Provider-set_history'><code>argent::Provider$set_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_rate_limit"><a href='../../argent/html/Provider.html#method-Provider-set_rate_limit'><code>argent::Provider$set_rate_limit()</code></a></span></li>
</ul>
</details>
}}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-new"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-new}{}}}
\subsection{Method \code{new()}}{
Initialize a new Local LLM client
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$new(
  base_url,
  api_key = "not-needed",
  model = NULL,
  auto_save_history = TRUE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{base_url}}{Character. Base URL of the local server}

\item{\code{api_key}}{Character. API key (default: "not-needed")}

\item{\code{model}}{Character. Model name (auto-detected if NULL)}

\item{\code{auto_save_history}}{Logical. Enable/disable automatic history sync (default: TRUE)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-get_default_model_id"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-get_default_model_id}{}}}
\subsection{Method \code{get_default_model_id()}}{
Get the current model
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$get_default_model_id()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Character. Model name
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-set_default_model_id"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-set_default_model_id}{}}}
\subsection{Method \code{set_default_model_id()}}{
Set the model to use
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$set_default_model_id(model)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{model}}{Character. Model name}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-get_model_name"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-get_model_name}{}}}
\subsection{Method \code{get_model_name()}}{
Get the model name (basename)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$get_model_name()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Character. Model basename
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-list_models"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-list_models}{}}}
\subsection{Method \code{list_models()}}{
List all available models from the local server
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$list_models()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Data frame. Available models
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-chat"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-chat}{}}}
\subsection{Method \code{chat()}}{
Send a chat completion request to the local LLM
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$chat(
  ...,
  system = .default_system_prompt,
  model = NULL,
  temperature = 1,
  max_tokens = 4096,
  top_p = NULL,
  top_k = NULL,
  min_p = NULL,
  repeat_penalty = NULL,
  presence_penalty = NULL,
  frequency_penalty = NULL,
  mirostat = NULL,
  mirostat_tau = NULL,
  mirostat_eta = NULL,
  seed = NULL,
  tools = NULL,
  tool_choice = "auto",
  output_schema = NULL,
  return_full_response = FALSE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{...}}{One or more inputs for the prompt. Can be text strings, file paths, URLs, R objects,
or content wrapped with \verb{as_*_content()} functions. R objects (but not plain strings) will
include their names and structure in the context sent to the model.}

\item{\code{system}}{Character. System instructions (optional)}

\item{\code{model}}{Character. Model to use (default: current model)}

\item{\code{temperature}}{Numeric. Sampling temperature (default: 1)}

\item{\code{max_tokens}}{Integer. Maximum tokens to generate (default: 4096)}

\item{\code{top_p}}{Numeric. Top-p (nucleus) sampling (default: 0.9, 1.0 = disabled)}

\item{\code{top_k}}{Integer. Top-k sampling (default: 40, 0 = disabled)}

\item{\code{min_p}}{Numeric. Min-p sampling (default: 0.1, 0.0 = disabled)}

\item{\code{repeat_penalty}}{Numeric. Penalize repeat sequence of tokens (default: 1.0, 1.0 = disabled)}

\item{\code{presence_penalty}}{Numeric. Repeat alpha presence penalty (default: 0.0, 0.0 = disabled)}

\item{\code{frequency_penalty}}{Numeric. Repeat alpha frequency penalty (default: 0.0, 0.0 = disabled)}

\item{\code{mirostat}}{Integer. Use Mirostat sampling (default: 0, 0 = disabled, 1 = Mirostat,
2 = Mirostat 2.0)}

\item{\code{mirostat_tau}}{Numeric. Mirostat target entropy, parameter tau (default: 5.0)}

\item{\code{mirostat_eta}}{Numeric. Mirostat learning rate, parameter eta (default: 0.1)}

\item{\code{seed}}{Integer. RNG seed (default: -1, use random seed for -1)}

\item{\code{tools}}{List. Function definitions for tool calling (optional)}

\item{\code{tool_choice}}{Character or List. Tool choice mode (default: "auto")}

\item{\code{output_schema}}{List. JSON schema for structured output (optional)}

\item{\code{return_full_response}}{Logical. Return full API response (default: FALSE)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Character (or List if return_full_response = TRUE). Local LLM API's response object.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-embeddings"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-embeddings}{}}}
\subsection{Method \code{embeddings()}}{
Generate embeddings for text input
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$embeddings(input, model = NULL, return_full_response = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{input}}{Character vector. Text(s) to embed}

\item{\code{model}}{Character. Model to use (default: current model)}

\item{\code{return_full_response}}{Logical. Return full API response (default: FALSE)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Numeric matrix (or List if return_full_response = TRUE). Embeddings with one row per input text
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-LocalLLM-clone"></a>}}
\if{latex}{\out{\hypertarget{method-LocalLLM-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{LocalLLM$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
