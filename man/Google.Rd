% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/google.R
\name{Google}
\alias{Google}
\title{Google API Client}
\description{
R6 class for interacting with Google's API. Provides methods for chat completions,
model information retrieval, function calling capabilities, structured outputs, and context caching.
}
\section{Useful links}{

\itemize{
\item API reference: https://ai.google.dev/api/generate-content
\item API docs: https://ai.google.dev/gemini-api/docs
}
}

\section{Server-side tools}{

\itemize{
\item \code{code_execution}: Execute Python code
\item \code{google_search}: Web search with grounding
\item \code{url_context}: Fetch and process URLs
\item \code{google_maps}: Location-aware data
\item \code{file_search}: Search through uploaded files
}
}

\examples{
\dontrun{
# Initialize with API key from environment
google <- Google$new()

# Or provide API key explicitly
google <- Google$new(api_key = "your-api-key")

# Simple chat completion
response <- google$chat(
  "What is R programming?",
  model = "gemini-2.5-pro"
)

# With system instructions
response <- google$chat(
  "Explain quantum computing",
  model = "gemini-2.5-pro",
  system = "You are a physics professor"
)

# With R objects (names captured automatically)
my_data <- mtcars
response <- google$chat(
  my_data, "Analyze this dataset",
  model = "gemini-2.5-pro"
)

# With context caching for repeated queries
cache_name <- google$create_cache(
  model = "gemini-2.5-flash",
  system = "You are an expert data analyst",
  ttl = "3600s"
)
}

## ------------------------------------------------
## Method `Google$embeddings`
## ------------------------------------------------

\dontrun{
google <- Google$new()

# Generate embeddings
embeddings <- google$embeddings(
  input = c("Hello world", "How are you?"),
  model = "text-embedding-004"
)

# With task type for optimization
embeddings <- google$embeddings(
  input = "Sample query",
  model = "text-embedding-004",
  task_type = "RETRIEVAL_QUERY"
)

# With dimension reduction
embeddings <- google$embeddings(
  input = "Sample text",
  model = "text-embedding-004",
  output_dimensionality = 256
)
}
}
\section{Super class}{
\code{argent::Provider} -> \code{Google}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-Google-new}{\code{Google$new()}}
\item \href{#method-Google-list_models}{\code{Google$list_models()}}
\item \href{#method-Google-get_model_info}{\code{Google$get_model_info()}}
\item \href{#method-Google-embeddings}{\code{Google$embeddings()}}
\item \href{#method-Google-upload_file}{\code{Google$upload_file()}}
\item \href{#method-Google-get_file_metadata}{\code{Google$get_file_metadata()}}
\item \href{#method-Google-list_files}{\code{Google$list_files()}}
\item \href{#method-Google-delete_file}{\code{Google$delete_file()}}
\item \href{#method-Google-create_store}{\code{Google$create_store()}}
\item \href{#method-Google-list_stores}{\code{Google$list_stores()}}
\item \href{#method-Google-read_store}{\code{Google$read_store()}}
\item \href{#method-Google-delete_store}{\code{Google$delete_store()}}
\item \href{#method-Google-add_file_to_store}{\code{Google$add_file_to_store()}}
\item \href{#method-Google-import_file_to_store}{\code{Google$import_file_to_store()}}
\item \href{#method-Google-list_files_in_store}{\code{Google$list_files_in_store()}}
\item \href{#method-Google-read_file_from_store}{\code{Google$read_file_from_store()}}
\item \href{#method-Google-delete_file_from_store}{\code{Google$delete_file_from_store()}}
\item \href{#method-Google-query_file}{\code{Google$query_file()}}
\item \href{#method-Google-get_operation}{\code{Google$get_operation()}}
\item \href{#method-Google-chat}{\code{Google$chat()}}
\item \href{#method-Google-clone}{\code{Google$clone()}}
}
}
\if{html}{\out{
<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="download_generated_files"><a href='../../argent/html/Provider.html#method-Provider-download_generated_files'><code>argent::Provider$download_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="dump_history"><a href='../../argent/html/Provider.html#method-Provider-dump_history'><code>argent::Provider$dump_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_auto_save_history"><a href='../../argent/html/Provider.html#method-Provider-get_auto_save_history'><code>argent::Provider$get_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_chat_history"><a href='../../argent/html/Provider.html#method-Provider-get_chat_history'><code>argent::Provider$get_chat_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_content_text"><a href='../../argent/html/Provider.html#method-Provider-get_content_text'><code>argent::Provider$get_content_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_code"><a href='../../argent/html/Provider.html#method-Provider-get_generated_code'><code>argent::Provider$get_generated_code()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_generated_files"><a href='../../argent/html/Provider.html#method-Provider-get_generated_files'><code>argent::Provider$get_generated_files()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history"><a href='../../argent/html/Provider.html#method-Provider-get_history'><code>argent::Provider$get_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_history_file_path"><a href='../../argent/html/Provider.html#method-Provider-get_history_file_path'><code>argent::Provider$get_history_file_path()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_last_response"><a href='../../argent/html/Provider.html#method-Provider-get_last_response'><code>argent::Provider$get_last_response()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_rate_limit"><a href='../../argent/html/Provider.html#method-Provider-get_rate_limit'><code>argent::Provider$get_rate_limit()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_reasoning_text"><a href='../../argent/html/Provider.html#method-Provider-get_reasoning_text'><code>argent::Provider$get_reasoning_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_cumulative_token_count"><a href='../../argent/html/Provider.html#method-Provider-get_session_cumulative_token_count'><code>argent::Provider$get_session_cumulative_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_history"><a href='../../argent/html/Provider.html#method-Provider-get_session_history'><code>argent::Provider$get_session_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_session_last_token_count"><a href='../../argent/html/Provider.html#method-Provider-get_session_last_token_count'><code>argent::Provider$get_session_last_token_count()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="get_supplementary"><a href='../../argent/html/Provider.html#method-Provider-get_supplementary'><code>argent::Provider$get_supplementary()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="load_history"><a href='../../argent/html/Provider.html#method-Provider-load_history'><code>argent::Provider$load_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="print"><a href='../../argent/html/Provider.html#method-Provider-print'><code>argent::Provider$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="reset_history"><a href='../../argent/html/Provider.html#method-Provider-reset_history'><code>argent::Provider$reset_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_auto_save_history"><a href='../../argent/html/Provider.html#method-Provider-set_auto_save_history'><code>argent::Provider$set_auto_save_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_history"><a href='../../argent/html/Provider.html#method-Provider-set_history'><code>argent::Provider$set_history()</code></a></span></li>
<li><span class="pkg-link" data-pkg="argent" data-topic="Provider" data-id="set_rate_limit"><a href='../../argent/html/Provider.html#method-Provider-set_rate_limit'><code>argent::Provider$set_rate_limit()</code></a></span></li>
</ul>
</details>
}}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-new"></a>}}
\if{latex}{\out{\hypertarget{method-Google-new}{}}}
\subsection{Method \code{new()}}{
Initialize a new Google Gemini client
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$new(
  base_url = "https://generativelanguage.googleapis.com",
  api_key = Sys.getenv("GEMINI_API_KEY"),
  provider_name = "Google",
  rate_limit = 5/60,
  server_tools = c("code_execution", "google_search", "url_context", "google_maps",
    "file_search"),
  default_model = "gemini-2.5-flash",
  auto_save_history = TRUE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{base_url}}{Character. Base URL for API (default:
"https://generativelanguage.googleapis.com")}

\item{\code{api_key}}{Character. API key (default: from GEMINI_API_KEY env var)}

\item{\code{provider_name}}{Character. Provider name (default: "Google")}

\item{\code{rate_limit}}{Numeric. Rate limit in requests per second (default: 5/60, free tier for
2.5 Pro)}

\item{\code{server_tools}}{Character vector. Server-side tools available (default: c("code_execution",
"google_search", "url_context", "google_maps", "file_search"))}

\item{\code{default_model}}{Character. Default model to use for chat requests (default:
"gemini-2.5-flash")}

\item{\code{auto_save_history}}{Logical. Enable/disable automatic history sync (default: TRUE)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-list_models"></a>}}
\if{latex}{\out{\hypertarget{method-Google-list_models}{}}}
\subsection{Method \code{list_models()}}{
List all available Google models
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$list_models()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Data frame. Available models with their specifications
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-get_model_info"></a>}}
\if{latex}{\out{\hypertarget{method-Google-get_model_info}{}}}
\subsection{Method \code{get_model_info()}}{
Get information about a specific Google model
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$get_model_info(model_id)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{model_id}}{Character. Model ID (e.g., "gemini-2.5-pro")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. Model information
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-embeddings"></a>}}
\if{latex}{\out{\hypertarget{method-Google-embeddings}{}}}
\subsection{Method \code{embeddings()}}{
Generate embeddings for text input using Google's embedding models
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$embeddings(
  input,
  model,
  task_type = NULL,
  output_dimensionality = NULL,
  return_full_response = FALSE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{input}}{Character vector. Text(s) to embed}

\item{\code{model}}{Character. Model to use (e.g., "text-embedding-004", "text-embedding-preview-0815")}

\item{\code{task_type}}{Character. Task type for optimization (optional). One of:
\itemize{
\item "RETRIEVAL_QUERY": For search queries
\item "RETRIEVAL_DOCUMENT": For documents in search corpus
\item "SEMANTIC_SIMILARITY": For similarity comparison
\item "CLASSIFICATION": For text classification
\item "CLUSTERING": For clustering tasks
}}

\item{\code{output_dimensionality}}{Integer. Number of dimensions for output (optional, 128-3072 for supported models)}

\item{\code{return_full_response}}{Logical. Return full API response (default: FALSE)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Numeric matrix (or List if return_full_response = TRUE). Embeddings with one row per input text
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
google <- Google$new()

# Generate embeddings
embeddings <- google$embeddings(
  input = c("Hello world", "How are you?"),
  model = "text-embedding-004"
)

# With task type for optimization
embeddings <- google$embeddings(
  input = "Sample query",
  model = "text-embedding-004",
  task_type = "RETRIEVAL_QUERY"
)

# With dimension reduction
embeddings <- google$embeddings(
  input = "Sample text",
  model = "text-embedding-004",
  output_dimensionality = 256
)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-upload_file"></a>}}
\if{latex}{\out{\hypertarget{method-Google-upload_file}{}}}
\subsection{Method \code{upload_file()}}{
Upload a file to Google Files API (uses resumable upload)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$upload_file(file_path, name = NULL, mime_type = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_path}}{Character. Path to the file to upload, or URL to a remote file}

\item{\code{name}}{Character. Display name for the file (optional, uses filename if NULL)}

\item{\code{mime_type}}{Character. MIME type (optional, auto-detected if NULL)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. File metadata or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-get_file_metadata"></a>}}
\if{latex}{\out{\hypertarget{method-Google-get_file_metadata}{}}}
\subsection{Method \code{get_file_metadata()}}{
Get metadata for an uploaded file
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$get_file_metadata(file_name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_name}}{Character. File name (e.g., "files/abc123")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. File metadata or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-list_files"></a>}}
\if{latex}{\out{\hypertarget{method-Google-list_files}{}}}
\subsection{Method \code{list_files()}}{
List all uploaded files
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$list_files(page_size = 100, page_token = NULL, as_df = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{page_size}}{Integer. Number of files per page (default: 100)}

\item{\code{page_token}}{Character. Page token for pagination (optional)}

\item{\code{as_df}}{Logical. Whether to return files as a data frame (default: TRUE). If FALSE, returns raw list.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Data frame (if as_df = TRUE) or list otherwise. Files metadata and next page token (list only).
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-delete_file"></a>}}
\if{latex}{\out{\hypertarget{method-Google-delete_file}{}}}
\subsection{Method \code{delete_file()}}{
Delete an uploaded file
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$delete_file(file_name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_name}}{Character. File name (e.g., "files/abc123")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Logical. TRUE if successful, FALSE otherwise
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-create_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-create_store}{}}}
\subsection{Method \code{create_store()}}{
Create a new file search store for RAG operations
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$create_store(name = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Character. Display name for the store (optional)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. File search store metadata or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-list_stores"></a>}}
\if{latex}{\out{\hypertarget{method-Google-list_stores}{}}}
\subsection{Method \code{list_stores()}}{
List all file search stores
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$list_stores(page_size = 10, page_token = NULL, as_df = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{page_size}}{Integer. Number of stores per page (default: 10, max: 100)}

\item{\code{page_token}}{Character. Page token for pagination (optional)}

\item{\code{as_df}}{Logical. Whether to return stores as a data frame (default: TRUE). If FALSE, returns raw list.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Data frame (if as_df = TRUE) or list otherwise. File search stores metadata.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-read_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-read_store}{}}}
\subsection{Method \code{read_store()}}{
Get information about a specific file search store
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$read_store(name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Character. Store name (e.g., "fileSearchStores/abc123")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. File search store metadata or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-delete_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-delete_store}{}}}
\subsection{Method \code{delete_store()}}{
Delete a file search store
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$delete_store(name, force = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{Character. Store name (e.g., "fileSearchStores/abc123")}

\item{\code{force}}{Logical. If TRUE, delete the store even if it contains documents (default: FALSE)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Logical. TRUE if successful, FALSE otherwise
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-add_file_to_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-add_file_to_store}{}}}
\subsection{Method \code{add_file_to_store()}}{
Upload a file directly to a file search store using resumable upload.
Supports custom chunking configuration and metadata.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$add_file_to_store(
  file_path,
  store_name,
  file_name = NULL,
  custom_metadata = NULL,
  chunking_config = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_path}}{Character. Path to the file to upload, or URL to a remote file}

\item{\code{store_name}}{Character. Store name (e.g., "fileSearchStores/abc123")}

\item{\code{file_name}}{Character. Display name for the file (optional, uses filename if NULL)}

\item{\code{custom_metadata}}{List. Custom metadata as key-value pairs (optional)}

\item{\code{chunking_config}}{List. Chunking configuration with max_tokens_per_chunk and max_overlap_tokens
(optional)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. Document metadata or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-import_file_to_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-import_file_to_store}{}}}
\subsection{Method \code{import_file_to_store()}}{
Import an existing File API file to a file search store.
Note: The importFile endpoint does not support custom chunking configuration.
Files will be chunked automatically by Google's API.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$import_file_to_store(file_name, store_name, custom_metadata = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_name}}{Character. File name from File API (e.g., "files/abc123")}

\item{\code{store_name}}{Character. Store name (e.g., "fileSearchStores/abc123")}

\item{\code{custom_metadata}}{List. Custom metadata as key-value pairs (optional)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. Document metadata or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-list_files_in_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-list_files_in_store}{}}}
\subsection{Method \code{list_files_in_store()}}{
List files in a file search store
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$list_files_in_store(
  store_name,
  page_size = 10,
  page_token = NULL,
  as_df = TRUE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{store_name}}{Character. Store name (e.g., "fileSearchStores/abc123")}

\item{\code{page_size}}{Integer. Number of files per page (default: 10, max: 100)}

\item{\code{page_token}}{Character. Page token for pagination (optional)}

\item{\code{as_df}}{Logical. Whether to return files as a data frame (default: TRUE). If FALSE, returns raw list.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Data frame (if as_df = TRUE) or list otherwise. Files metadata.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-read_file_from_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-read_file_from_store}{}}}
\subsection{Method \code{read_file_from_store()}}{
Get information about a specific file in a store
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$read_file_from_store(file_name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_name}}{Character. File name (e.g., "fileSearchStores/xyz/documents/abc123")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. File metadata or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-delete_file_from_store"></a>}}
\if{latex}{\out{\hypertarget{method-Google-delete_file_from_store}{}}}
\subsection{Method \code{delete_file_from_store()}}{
Delete a file from a file search store
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$delete_file_from_store(file_name, force = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_name}}{Character. File name (e.g., "fileSearchStores/xyz/documents/abc123")}

\item{\code{force}}{Logical. If TRUE, force deletion of non-empty documents (default: TRUE)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Logical. TRUE if successful, FALSE otherwise
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-query_file"></a>}}
\if{latex}{\out{\hypertarget{method-Google-query_file}{}}}
\subsection{Method \code{query_file()}}{
Query a specific file in a file search store
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$query_file(
  file_name,
  query,
  results_count = 10,
  metadata_filters = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{file_name}}{Character. File name (e.g., "fileSearchStores/xyz/documents/abc123")}

\item{\code{query}}{Character. Query string}

\item{\code{results_count}}{Integer. Number of results to return (default: 10)}

\item{\code{metadata_filters}}{Character. Metadata filter string (optional, e.g., "author=John")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. Query results or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-get_operation"></a>}}
\if{latex}{\out{\hypertarget{method-Google-get_operation}{}}}
\subsection{Method \code{get_operation()}}{
Get the status of a long-running operation
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$get_operation(operation_name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{operation_name}}{Character. Operation name (e.g., "fileSearchStores/xyz/operations/abc123")}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
List. Operation status or NULL on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-chat"></a>}}
\if{latex}{\out{\hypertarget{method-Google-chat}{}}}
\subsection{Method \code{chat()}}{
Send a chat completion request to Google

\strong{Note on thinking with function calling}: When thinking and function calling are both enabled,
the model returns thought signatures in the response. These encrypted representations of the
model's thought process are automatically included in subsequent turns via chat_history,
allowing the model to maintain thought context across multi-turn conversations. However, thought
signatures increase input token costs when sent back in requests. See
\url{https://ai.google.dev/gemini-api/docs/thinking#signatures}
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$chat(
  ...,
  model = "gemini-2.5-flash",
  system = .default_system_prompt,
  max_tokens = 8000,
  temperature = 1,
  top_p = NULL,
  top_k = NULL,
  stop_sequences = NULL,
  tools = NULL,
  tool_choice = list(mode = "AUTO"),
  output_schema = NULL,
  thinking_budget = 0,
  include_thoughts = FALSE,
  return_full_response = FALSE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{...}}{One or more inputs for the prompt. Can be text strings, file paths, URLs, R objects,
or content wrapped with \verb{as_*_content()} functions. R objects (but not plain strings) will
include their names and structure in the context sent to the model.}

\item{\code{model}}{Character. Model to use (default: "gemini-2.5-flash")}

\item{\code{system}}{Character. System instructions (optional)}

\item{\code{max_tokens}}{Integer. Maximum tokens to generate (default: 8000)}

\item{\code{temperature}}{Numeric. Sampling temperature 0-2 (default: 1)}

\item{\code{top_p}}{Numeric. Nucleus sampling - cumulative probability cutoff. Range: 0.0-1.0 (optional)}

\item{\code{top_k}}{Integer. Top-K sampling - sample from top K options. Range: 1+ (optional)}

\item{\code{stop_sequences}}{Character vector. Sequences that stop generation when encountered (optional)}

\item{\code{tools}}{List. Function definitions for tool calling (optional). Supports both client-side
functions and server-side tools:

\strong{Server-side tools:}
\itemize{
\item \code{"code_execution"} or \code{list(type = "code_execution", file_ids = list("files/xyz"))} - Execute Python code
\item \code{"google_search"} - Web search with grounding
\item \code{"url_context"} - Fetch and process URLs
\item \code{"google_maps"} or \code{list(type = "google_maps", enable_widget = TRUE, location = list(latitude, longitude))} - Location-aware data
\item \code{"file_search"} or \code{list(type = "file_search", store_names = list("fileSearchStores/xyz"), metadata_filter = "key=value")} - Search through uploaded files
}

\strong{Client-side functions:}
Use \code{as_tool(fn)} to wrap R functions for tool calling.}

\item{\code{tool_choice}}{Character or List. Controls how the model uses function declarations
(default: list(mode = "AUTO")). Only applies to client function tools, not server tools.

\strong{Modes:}
\itemize{
\item \code{"AUTO"} (default): Model decides whether to call functions or respond with natural language
\item \code{"ANY"}: Model must always call a function (never responds with natural language)
\item \code{"NONE"}: Model cannot call functions (temporarily disable without removing tool definitions)
\item \code{"VALIDATED"} (Preview): Model can call functions or respond naturally, with schema validation
}

\strong{Limiting function selection (optional):}
When mode is "ANY" or "VALIDATED", you can specify which functions are allowed:
\code{list(mode = "ANY", allowed_function_names = c("func1", "func2"))}

\strong{Examples:}
\itemize{
\item \code{tool_choice = "AUTO"} - Simple mode specification (character)
\item \code{tool_choice = list(mode = "ANY")} - Force function call from any available function
\item \code{tool_choice = list(mode = "ANY", allowed_function_names = c("get_weather"))} - Force specific function
}}

\item{\code{output_schema}}{List. JSON schema for structured output (optional)}

\item{\code{thinking_budget}}{Integer. Thinking budget in tokens: 0 (disabled), -1 (dynamic),
or 0-24575/32768 (fixed budget). Default: 0.}

\item{\code{include_thoughts}}{Logical. Whether to include thought parts in the response (default: FALSE).
If TRUE but thinking_budget is 0, a warning is issued and include_thoughts is set to FALSE.}

\item{\code{return_full_response}}{Logical. Return full API response (default: FALSE)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Character (or List if return_full_response = TRUE). Google API's response object.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Google-clone"></a>}}
\if{latex}{\out{\hypertarget{method-Google-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Google$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
