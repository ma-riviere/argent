% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{content_converters}
\alias{content_converters}
\alias{as_text_content}
\alias{as_image_content}
\alias{as_file_content}
\alias{as_pdf_content}
\alias{as_json_content}
\title{Convert file paths, URLs or R objects to the specified content format before passing it to the LLM API}
\usage{
as_text_content(
  ...,
  .vec_len = 999,
  .nchar_max = 999,
  .converter = default_text_converter,
  .provider_options = list()
)

as_image_content(
  ...,
  .resize = "none",
  .converter = default_image_converter,
  .provider_options = list()
)

as_file_content(..., .provider_options = list())

as_pdf_content(
  ...,
  .converter = default_pdf_converter,
  .provider_options = list()
)

as_json_content(
  ...,
  .max_rows = 10,
  .converter = default_json_converter,
  .provider_options = list()
)
}
\arguments{
\item{...}{One or more inputs to convert. Can be file paths, URLs, or R objects.}

\item{.vec_len}{Integer. For \code{as_text_content()} only. Maximum vector length to display
when converting R objects. Default is 999.}

\item{.nchar_max}{Integer. For \code{as_text_content()} only. Maximum characters per element
when converting R objects. Minimum value is 17. Default is 999.}

\item{.converter}{Function. Custom converter function. Signature varies by function:
\itemize{
\item \code{as_text_content()}: \verb{function(input, vec_len, nchar_max)}
\item \code{as_image_content()}: \verb{function(input)}
\item \code{as_pdf_content()}: \verb{function(input)}
\item \code{as_json_content()}: \verb{function(input, max_rows)}
Default converters are provided for each function. Can be overridden by passing a custom function.
}}

\item{.provider_options}{List. Provider-specific options to attach as attributes.
Default is an empty list. For OpenAI providers with images, use
\code{list(detail = "low")} to control image processing detail level. Options:
\code{"low"} (85 tokens, 512px, faster), \code{"high"} (better understanding), \code{"auto"}
(model decides). For OpenAI Assistants with PDFs, can include 'tools' to specify
which tools to use with the attachment (default: file_search).}

\item{.resize}{Character. For \code{as_image_content()} only. Image resizing strategy:
\itemize{
\item \code{"none"}: No resizing (default)
\item \code{"low"}: Resize to fit within 512x512 (faster, cheaper processing)
\item \code{"high"}: Resize to fit within 2000x768 or 768x2000 based on orientation
\item Custom geometry string (e.g., "800x600", "50\%", "200x200>", "300x200>!")
following magick::image_resize() syntax. Append \code{>} to resize only if larger,
\code{!} to ignore aspect ratio.
}}

\item{.max_rows}{Integer. For \code{as_json_content()} only. Maximum number of rows to
include when converting data frames. Default is 10.}
}
\value{
Character vector with processed content. Has attribute \code{argent_input = TRUE}
and each element has \code{argent_input_type} set to the appropriate type ("text",
"image", "file_ref", or "pdf").
}
\description{
These functions convert various input types into formats suitable for LLM API requests.
Each function handles specific content types with automatic detection and conversion
where applicable.
}
\details{
\subsection{Supported File Formats}{

\code{as_text_content()} supports:
\itemize{
\item JSON, YAML, CSV, TSV, RDS, XML, HTML, and plain text files
\item PDF files (requires pdftools package)
\item Image files (converted to base64 data URIs)
}

\code{as_image_content()} supports:
\itemize{
\item Common image formats (JPEG, PNG, GIF, etc.)
\item PDF files (converted to images via magick)
}

\code{as_pdf_content()} supports:
\itemize{
\item PDF file paths or URLs
\item Handling varies by provider (e.g., OpenAI Assistants API, Google Gemini File API)
}

\code{as_json_content()} supports:
\itemize{
\item R objects (converted via jsonlite::toJSON)
\item JSON file paths
\item JSON URLs
}
}
}
\examples{
\dontrun{
# Text content
as_text_content("Hello, world!")
as_text_content(mtcars, .vec_len = 5)
as_text_content("path/to/file.txt")

# Image content
as_image_content("image.jpg")
as_image_content("large_image.jpg", .resize = "low")
as_image_content("image.jpg", .provider_options = list(detail = "high"))

# File references
as_file_content("file-abc123")

# PDF content
as_pdf_content("document.pdf")

# JSON content
as_json_content(mtcars, .max_rows = 5)
as_json_content(list(a = 1, b = 2))
}
}
